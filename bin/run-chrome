#!/bin/sh

personal() {
  exec google-chrome \
      --user-data-dir=$HOME/.config/google-chrome/Personal \
      $1
}

work() {
  exec google-chrome \
      --proxy-pac-url=http://wpad.corp.google.com/wpad.dat \
      --user-data-dir=$HOME/.config/google-chrome/Work \
      $1
}

tor() {
  profile_dir=`mktemp -d`
  google-chrome \
    --proxy-server="socks://127.0.0.1:9050" \
    --incognito \
    --user-data-dir=$profile_dir \
    $1
  rm -rf $profile_dir
}

case $1 in
  personal)
    personal $2
    ;;
  work)
    work $2
    ;;
  tor)
    tor $2
    ;;
  *)
    if [ ! -z "$2" ];then
      echo "Usage: $(basename $0) [personal|work|tor] [URL]" 1>&2
      exit
    fi
    personal $1
    ;;
esac
